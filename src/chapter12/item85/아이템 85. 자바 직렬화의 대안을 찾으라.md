# ğŸ’¡ ì§ë ¬í™”ì˜ ë¬¸ì œì 
- ì§ë ¬í™”ì˜ ë¬¸ì œëŠ” ê³µê²© ë²”ìœ„ê°€ ë„ˆë¬´ ë„“ê³  ì§€ì†ì ìœ¼ë¡œ ë” ë„“ì–´ì ¸ ë°©ì–´í•˜ê¸° ì–´ë µë‹¤ëŠ” ì ì´ë‹¤.
- `ObjectInputStream`ì˜ `readObject` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´ì„œ ê°ì²´ ê·¸ë˜í”„ê°€ ì—­ì§ë ¬í™”ë˜ê¸° ë•Œë¬¸
- `readObject` ë©”ì„œë“œëŠ” ê±°ì˜ ëª¨ë“  íƒ€ì…ì˜ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆëŠ”, ì‚¬ì‹¤ìƒ ë§ˆë²•ê³¼ ê°™ì€ ìƒì„±ìë‹¤. (ë³´ì´ì§€ ì•ŠëŠ” ìƒì„±ìì´ë‹¤.)
- ê°ì²´ ìƒì„±ì„ ìš°íšŒí•  ìˆ˜ ìˆì–´, ì œì•½ì¡°ê±´ì„ ë¬´ì‹œí•  ìˆ˜ ìˆë‹¤. ì•„ë˜ ì˜ˆì œë¥¼ ë³´ì

```java
public final class MyUser implements Serializable {

    private final String name;
    private final int age;

    public MyUser(String name, int age) {
        if (age < 30) {
            throw new IllegalArgumentException("30ì‚´ ì´ìƒë§Œ ìƒì„±í•  ìˆ˜ ìˆë‹¤.");
        }
        this.name = name;
        this.age = age;
    }

    public String getName() {
        return name;
    }

    public int getAge() {
        return age;
    }

    public static byte[] getSerializedObject(String name, int age) {
        byte[] bytes;
        try (ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream()) {
            ObjectOutputStream objectOutputStream = new ObjectOutputStream(byteArrayOutputStream);
            MyUser myUser = new MyUser(name, age);
            objectOutputStream.writeObject(myUser);
            bytes = byteArrayOutputStream.toByteArray();
        } catch (IOException e) {
            throw new RuntimeException(e);
        }
        return bytes;
    }

    @Override
    public String toString() {
        return "MyUser{" +
                "name='" + name + '\'' +
                ", age=" + age +
                '}';
    }
}
```

```java
public class serializableTest {

    public static void main(String[] args) {

        // ì§ë ¬í™” -> ì—­ì§ë ¬í™”
        byte[] serializedMyUser = MyUser.getSerializedObject("jewoo", 30);
        System.out.println("serializedMyUser = " + Arrays.toString(serializedMyUser));
        try (ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(serializedMyUser)) {
            ObjectInputStream objectInputStream = new ObjectInputStream(byteArrayInputStream);
            MyUser myUser = (MyUser) objectInputStream.readObject();
            System.out.println("myUser = " + myUser);
        } catch (ClassNotFoundException | IOException e) {
            throw new RuntimeException(e);
        }

        // ì—­ì§ë ¬í™” í•  ë•Œ ìƒì„±ìì˜ ì œì•½ ì¡°ê±´ì„ ë¬´ì‹œí•´ë²„ë¦°ë‹¤!
        serializedMyUser[81] = 20;
        try (ByteArrayInputStream byteArrayInputStream2 = new ByteArrayInputStream(serializedMyUser)) {
            ObjectInputStream objectInputStream = new ObjectInputStream(byteArrayInputStream2);
            MyUser myUser = (MyUser) objectInputStream.readObject();
            System.out.println("myUser = " + myUser);
        } catch (ClassNotFoundException | IOException e) {
            throw new RuntimeException(e);
        }

    }
}
```
- ìœ„ ì½”ë“œì˜ ì‹¤í–‰ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

![image](https://github.com/shin-je-woo/effective-java-group-study/assets/39439576/9587e89f-d570-4ae6-a345-13cf1c9af90f)
- MyUserê°ì²´ëŠ” 30ì‚´ ì´ìƒë§Œ ìƒì„±í•  ìˆ˜ ìˆì–´ ë³´ì˜€ì§€ë§Œ, ì—­ì§ë ¬í™” ë˜ë©´ì„œ ì œì•½ì¡°ê±´ì´ ë¬´ì‹œë˜ì—ˆë‹¤!

# ğŸ’¡ ì§ë ¬í™”ì˜ ëŒ€ì•ˆ
- ê·¸ë ‡ë‹¤ë©´ ì´ëŸ° ë¬¸ì œë¥¼ ì–´ë–»ê²Œ ëŒ€ì²˜í•´ì•¼ í• ê¹Œ?
- ì• ì´ˆì— ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ë°”ì´íŠ¸ ìŠ¤íŠ¸ë¦¼ì„ ì—­ì§ë ¬í™”í•˜ëŠ” ì¼ ìì²´ê°€ ìŠ¤ìŠ¤ë¡œë¥¼ ê³µê²©ì— ë…¸ì¶œí•˜ëŠ” í–‰ìœ„ë‹¤.
- **ì§ë ¬í™” ìœ„í—˜ì„ íšŒí”¼í•˜ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ì•„ë¬´ê²ƒë„ ì—­ì§ë ¬í™”í•˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.**
- ì €ìëŠ” ì•„ë˜ì™€ ê°™ì€ ë§ë„ ë§ë¶™ì˜€ë‹¤.
- **ì—¬ëŸ¬ë¶„ì´ ì‘ì„±í•˜ëŠ” ìƒˆë¡œìš´ ì‹œìŠ¤í…œì—ì„œ ìë°” ì§ë ¬í™”ë¥¼ ì¨ì•¼ í•  ì´ìœ ëŠ” ì „í˜€ ì—†ë‹¤.**
- ê°ì²´ì™€ ë°”ì´íŠ¸ ì‹œí€€ìŠ¤ë¥¼ ë³€í™˜í•´ì£¼ëŠ” ë‹¤ë¥¸ ë©”ì»¤ë‹ˆì¦˜ì´ ë§ì´ ìˆë‹¤.
- ì˜ˆë¥¼ ë“¤ì–´ `JSON` , `í”„ë¡œí† ì½œ ë²„í¼` ë“±ì´ ìˆë‹¤.
- ë ˆê±°ì‹œ ì‹œìŠ¤í…œ ë•Œë¬¸ì— ìë°” ì§ë ¬í™”ë¥¼ ì™„ì „íˆ ë°°ì œí•  ìˆ˜ ì—†ì„ ë•ŒëŠ” ì‹ ë¢°í•  ìˆ˜ ì—†ëŠ” ë°ì´í„°ëŠ” ì ˆëŒ€ ì—­ì§ë ¬í™” í•˜ì§€ ë§ ê²ƒ.
- ë§Œì•½, ì§ë ¬í™”ë¥¼ í”¼í•  ìˆ˜ ì—†ê³  ì—­ì§ë ¬í™”í•œ ë°ì´í„°ê°€ ì•ˆì „í•œì§€ í™•ì‹ í•  ìˆ˜ ì—†ë‹¤ë©´ ê°ì²´ ì—­ì§ë ¬í™” í•„í„°ë§(java.io.ObjectInputFilter)ì„ ì‚¬ìš©í•˜ì.
