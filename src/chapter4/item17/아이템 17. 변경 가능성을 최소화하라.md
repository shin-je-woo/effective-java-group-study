# ğŸ’¡ ë¶ˆë³€ í´ë˜ìŠ¤ë€?
* ì¸ìŠ¤í„´ìŠ¤ì˜ ë‚´ë¶€ ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” í´ë˜ìŠ¤
* ë¶ˆë³€ ì¸ìŠ¤í„´ìŠ¤ì— ê°„ì§ëœ ì •ë³´ëŠ” ê°ì²´ê°€ íŒŒê´´ë˜ëŠ” ìˆœê°„ê¹Œì§€ ì ˆëŒ€ ë‹¬ë¼ì§€ì§€ ì•ŠëŠ”ë‹¤.
* ë¶ˆë³€í´ë˜ìŠ¤ëŠ” ê°€ë³€ í´ë˜ìŠ¤ë³´ë‹¤ ì„¤ê³„ì™€ êµ¬í˜„ì´ ìš©ì´í•˜ë©°, ì˜¤ë¥˜ê°€ ìƒê¸¸ ì—¬ì§€ê°€ ì ê³  ì•ˆì „í•˜ë‹¤.
* ìë°” í”Œë«í¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë‹¤ì–‘í•œ ë¶ˆë³€ í´ë˜ìŠ¤ë¥¼ ì œê³µí•œë‹¤.
  * Stringì„ ë¹„ë¡¯í•œ ë°•ì‹±íƒ€ì… í´ë˜ìŠ¤(Integer, Double..)
  
# ğŸ’¡ ë¶ˆë³€ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ 
### 1. Thread-Safeí•˜ì—¬ ë³‘ë ¬ í”„ë¡œê·¸ë˜ë°ì— ìœ ìš©í•˜ë©°, ë™ê¸°í™”ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
* ë©€í‹° ì“°ë ˆë“œ í™˜ê²½ì—ì„œ ë™ê¸°í™” ë¬¸ì œê°€ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” ê³µìœ  ìì›ì— ë™ì‹œì— ì“°ê¸°(Write) ë•Œë¬¸ì´ë‹¤. 
* í•˜ì§€ë§Œ ë§Œì•½ ê³µìœ  ìì›ì´ ë¶ˆë³€ì´ë¼ë©´ ë” ì´ìƒ ë™ê¸°í™”ë¥¼ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ë  ê²ƒì´ë‹¤. ì™œëƒí•˜ë©´ í•­ìƒ ë™ì¼í•œ ê°’ì„ ë°˜í™˜í•  ê²ƒì´ê¸° ë•Œë¬¸ì´ë‹¤. 
* ì´ëŠ” ì•ˆì •ì„±ì„ ë³´ì¥í•  ë¿ë§Œ ì•„ë‹ˆë¼ ë™ê¸°í™”ë¥¼ í•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨ ì„±ëŠ¥ìƒì˜ ì´ì ë„ ê°€ì ¸ë‹¤ì¤€ë‹¤.

### 2. ì‹¤íŒ¨ ì›ìì ì¸(Failure Atomic) ë©”ì†Œë“œë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
* ê°€ë³€ ê°ì²´ë¥¼ í†µí•´ ì‘ì—…ì„ í•˜ëŠ” ë„ì¤‘ ì˜ˆì™¸ê°€ ë°œìƒí•˜ë©´ í•´ë‹¹ ê°ì²´ê°€ ë¶ˆì•ˆì •í•œ ìƒíƒœì— ë¹ ì§ˆ ìˆ˜ ìˆê³ , ë¶ˆì•ˆì •í•œ ìƒíƒœë¥¼ ê°–ëŠ” ê°ì²´ëŠ” ë˜ ë‹¤ë¥¸ ì—ëŸ¬ë¥¼ ìœ ë°œí•  ìˆ˜ ìˆë‹¤.
* í•˜ì§€ë§Œ ë¶ˆë³€ ê°ì²´ë¼ë©´ ì–´ë– í•œ ì˜ˆì™¸ê°€ ë°œìƒí•˜ì—¬ë„ ë©”ì†Œë“œ í˜¸ì¶œ ì „ì˜ ìƒíƒœë¥¼ ìœ ì§€í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤. ê·¸ë¦¬ê³  ì˜ˆì™¸ê°€ ë°œìƒí•˜ì—¬ë„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šì€ ê²ƒ ì²˜ëŸ¼ ë‹¤ìŒ ë¡œì§ì„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

### 3. Cacheë‚˜ Map ë˜ëŠ” Set ë“±ì˜ ìš”ì†Œë¡œ í™œìš©í•˜ê¸°ì— ì í•©í•˜ë‹¤.
* ë§Œì•½ ìºì‹œë‚˜ Map, Set ë“±ì˜ ì›ì†Œì¸ ê°€ë³€ ê°ì²´ê°€ ë³€ê²½ë˜ì—ˆë‹¤ë©´ ì´ë¥¼ ê°±ì‹ í•˜ëŠ” ë“±ì˜ ë¶€ê°€ ì‘ì—…ì´ í•„ìš”í•  ê²ƒì´ë‹¤.
* í•˜ì§€ë§Œ ë¶ˆë³€ ê°ì²´ë¼ë©´ í•œ ë²ˆ ë°ì´í„°ê°€ ì €ì¥ëœ ì´í›„ì— ë‹¤ë¥¸ ì‘ì—…ë“¤ì„ ê³ ë ¤í•˜ì§€ ì•Šì•„ë„ ë˜ë¯€ë¡œ ì‚¬ìš©í•˜ëŠ”ë° ìš©ì´í•˜ê²Œ ì‘ìš©í•  ê²ƒì´ë‹¤.

### 4. ë¶€ìˆ˜ íš¨ê³¼(Side Effect)ë¥¼ í”¼í•´ ì˜¤ë¥˜ê°€ëŠ¥ì„±ì„ ìµœì†Œí™”í•  ìˆ˜ ìˆë‹¤.
* ë¶€ìˆ˜ íš¨ê³¼ë€ ë³€ìˆ˜ì˜ ê°’ì´ë‚˜ ìƒíƒœ ë“±ì˜ ë³€í™”ê°€ ë°œìƒí•˜ëŠ” íš¨ê³¼ë¥¼ ì˜ë¯¸í•œë‹¤. 
* ë§Œì•½ ê°ì²´ì˜ ìˆ˜ì •ì(Setter)ë¥¼ í†µí•´ ì—¬ëŸ¬ ê°ì²´ë“¤ì—ì„œ ê°’ì„ ë³€ê²½í•œë‹¤ë©´ ê°ì²´ì˜ ìƒíƒœë¥¼ ì˜ˆì¸¡í•˜ê¸° ì–´ë ¤ì›Œì§ˆ ê²ƒì´ë‹¤. 
* ë°”ë€ ìƒíƒœë¥¼ íŒŒì•…í•˜ê¸° ìœ„í•´ì„œëŠ” ë©”ì†Œë“œë“¤ì„ ì‚´í´ë³´ì•„ì•¼ í•˜ê³ , ì´ëŠ” ìœ ì§€ë³´ìˆ˜ì„±ì„ ìƒë‹¹íˆ ë–¨ì–´ëœ¨ë¦°ë‹¤.
* ê·¸ë˜ì„œ ì´ëŸ¬í•œ ë¶€ìˆ˜íš¨ê³¼ê°€ ì—†ëŠ” ìˆœìˆ˜ í•¨ìˆ˜ë“¤ì„ ë§Œë“œëŠ” ê²ƒì´ ìƒë‹¹íˆ ì¤‘ìš”í•œë°, ê°ì²´ê°€ ë¶ˆë³€ì´ë¼ë©´ ì–´ë–»ê²Œ ë ê¹Œ?
* ë¶ˆë³€ ê°ì²´ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ê°’ì˜ ìˆ˜ì •ì´ ë¶ˆê°€ëŠ¥í•˜ê¸° ë•Œë¬¸ì— ë³€ê²½ ê°€ëŠ¥ì„±ì´ ì ìœ¼ë©°, ê°ì²´ì˜ ìƒì„±ê³¼ ì‚¬ìš©ì´ ìƒë‹¹íˆ ì œí•œëœë‹¤.
* ì´ëŸ¬í•œ ë¶ˆë³€ ê°ì²´ëŠ” ì˜¤ë¥˜ë¥¼ ì¤„ì—¬ ìœ ì§€ë³´ìˆ˜ì„±ì´ ë†’ì€ ì½”ë“œë¥¼ ì‘ì„±í•˜ë„ë¡ ë„ì™€ì¤„ ê²ƒì´ë‹¤.

# ğŸ’¡ ë¶ˆë³€ í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ” 5ê°€ì§€ ê·œì¹™
1. ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” ë©”ì„œë“œ(ë³€ê²½ì)ë¥¼ ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
2. í´ë˜ìŠ¤ë¥¼ í™•ì¥í•  ìˆ˜ ì—†ë„ë¡ í•œë‹¤. (ìƒì† ê¸ˆì§€)
3. ëª¨ë“  í•„ë“œë¥¼ finalë¡œ ì„ ì–¸í•œë‹¤.
4. ëª¨ë“  í•„ë“œë¥¼ privateìœ¼ë¡œ ì„ ì–¸í•œë‹¤.
5. ìì‹  ì™¸ì—ëŠ” ë‚´ë¶€ì˜ ê°€ë³€ ì»´í¬ë„ŒíŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ì—†ë„ë¡ í•´ì•¼ í•œë‹¤.

# ğŸ’¡ ë¶ˆë³€ í´ë˜ìŠ¤ ì˜ˆì œ - ë¬¸ì œì 
ë¨¼ì € ë‹¤ìŒ ì½”ë“œë¥¼ ë³´ê³  ë¬¸ì œì ì„ ì°¾ì•„ë³´ì.
```java
public class Member {

    private String name;
    private int age;

    public Member(String name, int age) {
        this.name = name;
        this.age = age;
    }
    ...(Getter, Setter)
}
```

```java
public final class TeamV1 {

    private final int ranking;
    private final Member owner;
    private final List<Member> members;

    private TeamV1(int ranking, Member owner, List<Member> members) {
        this.ranking = ranking;
        this.owner = owner;
        this.members = members;
    }

    public static TeamV1 valueOf(int ranking, Member representative, List<Member> members) {
        return new TeamV1(ranking, representative, members);
    }

    public int getRanking() {
        return ranking;
    }

    public Member getOwner() {
        return owner;
    }

    public List<Member> getMembers() {
        return members;
    }
}
```
* TeamV1í´ë˜ìŠ¤ëŠ” ì±…ì˜ ë‚´ìš©ëŒ€ë¡œ ì˜ ì„¤ê³„ëœ ë¶ˆë³€ í´ë˜ìŠ¤ì²˜ëŸ¼ ë³´ì¸ë‹¤.
* ë¬¸ì œëŠ” ì°¸ì¡°íƒ€ì… í•„ë“œì¸ Memberì™€ ì°¸ì¡°íƒ€ì…ì„ ìš”ì†Œë¡œ ê°–ëŠ” ì»¬ë ‰ì…˜ì„ í•„ë“œë¡œ ê°€ì§„ë‹¤ëŠ” ì ì´ë‹¤.
* ë‹¤ìŒ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‚´í´ë³´ì.
```java
public static void main(String[] args) {

     Member owner = new Member("owner", 30);

     Member member1 = new Member("member1", 10);
     Member member2 = new Member("member2", 20);

     ArrayList<Member> members = new ArrayList<>();
     members.add(member1);
     members.add(member2);

     // TeamV1ì€ ë¶ˆë³€ì¸ ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤.
     TeamV1 teamV1 = TeamV1.valueOf(10, owner, members);
     owner.setAge(40);
     members.add(new Member("member3", 30));

     // TeamV1 ë‚´ë¶€ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆë‹¤.
     System.out.println("teamV1.owner.age = " + teamV1.getOwner().getAge()); //40
     System.out.println("teamV1.members.size = " + teamV1.getMembers().size()); //3
 }
```
* ë¶ˆë³€ ê°ì²´ì¸ ì¤„ ì•Œì•˜ë˜ teamV1 ë‚´ë¶€ì˜ ìƒíƒœê°€ ë³€ê²½ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
* ì´ ì˜ˆì œì—ì„œ `private final í•„ë“œì—¬ë„ ë¶ˆë³€ì´ ì•„ë‹ ìˆ˜ ìˆë‹¤.`ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
* ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ê²°í•´ì•¼ í• ê¹Œ? â†’ ì°¸ì¡°íƒ€ì… í•„ë“œëŠ” `ë°©ì–´ì  ë³µì‚¬`ë¥¼ ìˆ˜í–‰í•˜ì!

# ğŸ’¡ ë¶ˆë³€ í´ë˜ìŠ¤ ì˜ˆì œ - ë°©ì–´ì  ë³µì‚¬
* ìƒì„±ìì˜ ì¸ìë¡œ ë°›ì€ ê°ì²´ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ ë‚´ë¶€ í•„ë“œë¥¼ ì´ˆê¸°í™”í•œë‹¤.
* getterë©”ì„œë“œì—ì„œ ë‚´ë¶€ì˜ ê°ì²´ë¥¼ ë°˜í™˜í•  ë•Œ, ê°ì²´ì˜ ë³µì‚¬ë³¸ì„ ë§Œë“¤ì–´ ë°˜í™˜í•œë‹¤.

```java
public final class TeamV2 {

    private final int ranking;
    private final Member owner;
    private final List<Member> members;

    // ìƒì„±ìì—ì„œ ì°¸ì¡°íƒ€ì…í•„ë“œëŠ” ë°©ì–´ì  ë³µì‚¬
    private TeamV2(int ranking, Member owner, List<Member> members) {
        this.ranking = ranking;
        this.owner = new Member(owner.getName(), owner.getAge());
        this.members = new ArrayList<>(members);
    }

    public static TeamV2 valueOf(int ranking, Member representative, List<Member> members) {
        return new TeamV2(ranking, representative, members);
    }

    public int getRanking() {
        return ranking;
    }

    public Member getOwner() {
        return new Member(owner.getName(), owner.getAge());
    }

    // getë©”ì†Œë“œëŠ” ë°©ì–´ì  ë³µì‚¬ or Collections.unmodifiableList ì´ìš©
    public List<Member> getMembers() {
        //return new ArrayList<>(members);
        return Collections.unmodifiableList(members);
    }
}
```

```java
public static void main(String[] args) {

     Member owner = new Member("owner", 30);

     Member member1 = new Member("member1", 10);
     Member member2 = new Member("member2", 20);

     ArrayList<Member> members = new ArrayList<>();
     members.add(member1);
     members.add(member2);

     TeamV2 teamV2 = TeamV2.valueOf(10, owner, members);
     owner.setAge(40);
     members.add(new Member("member3", 30));

     // TeamV2ëŠ” ìƒì„±í•  ë•Œ ë°©ì–´ì  ë³µì‚¬ë¥¼ ìˆ˜í–‰í–ˆê¸° ë•Œë¬¸ì— ë³€ê²½X
     System.out.println("teamV2.owner.age = " + teamV2.getOwner().getAge()); //30
     System.out.println("teamV2.members.size = " + teamV2.getMembers().size()); //2

     //TeamV2ì˜ getMemberëŠ” Collections.unmodifiableListë¥¼ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— addì™€ ê°™ì€ ë³€ê²½ìê°€ ì‹¤í–‰ë˜ë©´ UnsupportedOperationExceptionì´ ë°œìƒí•œë‹¤.
     teamV2.getMembers().add(owner);
 }
```
![image](https://user-images.githubusercontent.com/39439576/236614871-9ea975ca-31fc-4bd7-af9b-e9ca41376a3f.png)

* teamV2 ì¸ìŠ¤í„´ìŠ¤ëŠ” ì°¸ì¡°íƒ€ì…í•„ë“œë¥¼ ë°©ì–´ì  ë³µì‚¬ë¥¼ ìˆ˜í–‰í•˜ì—¬ ë¶ˆë³€í•¨ì„ í™•ì¸í–ˆë‹¤.
* í•˜ì§€ë§Œ, ì—¬ê¸°ì„œ ë‚¨ì•„ìˆëŠ” ë¬¸ì œê°€ ìˆë‹¤.
* ë°”ë¡œ Collectionë©¤ë²„ì¸ List<members>í•„ë“œì´ë‹¤.
* ë°©ì–´ì  ë³µì‚¬ë¥¼ ìˆ˜í–‰í–ˆì§€ë§Œ, ë¦¬ìŠ¤íŠ¸ì˜ ìš”ì†Œë“¤ì€ ì—¬ì „íˆ ê°™ì€ ì°¸ì¡°ê°’ì„ ê°€ì§€ê¸° ë•Œë¬¸ì— ì›ë³¸ì´ ë³€ê²½ëœë‹¤ë©´ ë¶ˆë³€ì‹ì„ í•´ì¹˜ê²Œ ëœë‹¤.

![image](https://user-images.githubusercontent.com/39439576/236615876-2e416de6-7547-4115-92ac-c672fc04e90c.png)
* membersì™€ teamV2.membersëŠ” ë‹¤ë¥¸ ì°¸ì¡°ê°’ì„ ê°–ì§€ë§Œ, ìš”ì†Œë“¤ì€ ì—¬ì „íˆ ê°™ì€ ê°ì²´ë¥¼ ì°¸ì¡°í•˜ê³  ìˆë‹¤.
* ë§Œì•½, ì•„ë˜ì™€ ê°™ì´ ì›ë³¸ìì²´ë¥¼ ë³€ê²½í•˜ê²Œ ë˜ë©´ teamV2.membersë„ ë³€ê²½ë˜ê²Œ ëœë‹¤.
```java
// But, membersë¦¬ìŠ¤íŠ¸ ì•ˆì˜ ìš”ì†Œë“¤ì€ ì–•ì€ ë³µì‚¬ì˜€ê¸° ë•Œë¬¸ì— ë³€ê²½ê°€ëŠ¥ì„±ì´ ìˆë‹¤.
member1.setAge(100);
```

![image](https://user-images.githubusercontent.com/39439576/236615965-3bbd401d-4d81-485d-afff-aa49220cb315.png)
* ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ë©´ TeamV2ì˜ ìƒì„±ìì—ì„œ ë¦¬ìŠ¤íŠ¸ ìš”ì†Œë“¤ì„ `ê¹Šì€ ë³µì‚¬` í•˜ë©´ ëœë‹¤.
* í•˜ì§€ë§Œ, ê¹Šì€ë³µì‚¬ ìƒì„±ë¹„ìš©ì´ ì˜ˆì¸¡ì´ ì•ˆëœë‹¤ëŠ” ì ê³¼ ê¹Šì€ ë³µì‚¬ë¥¼ ìˆ˜í–‰í•´ì„œ ì–»ëŠ” ì´ì ì´ í¬ì§€ ì•Šë‹¤ëŠ” ê²ƒì´ë‹¤.
* ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œ? 
* â†’ ë¶ˆë³€ ê°ì²´ì˜ ì°¸ì¡°íƒ€ì… í•„ë“œë“¤ì€ ëª¨ë‘ ë¶ˆë³€ í´ë˜ìŠ¤ë¡œ ì„¤ê³„í•˜ë©´ ëœë‹¤. ê·¸ëŸ¬ë©´ ë¶ˆë³€ í´ë˜ìŠ¤ ë‚´ì—ì„œ ë°©ì–´ì  ë³µì‚¬ë¥¼ ìˆ˜í–‰í•  í•„ìš”ë„ ì—†ë‹¤.(Listì™€ ê°™ì€ Collectioní•„ë“œë“¤ì€ ë°©ì–´ì  ë³µì‚¬ë¥¼ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. Collectionì€ ê°€ë³€ì´ê¸° ë•Œë¬¸)

# ğŸ’¡ ì •ë¦¬
* í´ë˜ìŠ¤ëŠ” ê¼­ í•„ìš”í•œ ê²½ìš°ê°€ ì•„ë‹ˆë¼ë©´ ë¶ˆë³€ì´ì—¬ì•¼ í•œë‹¤.
* ë¶ˆë³€ìœ¼ë¡œ ë§Œë“¤ ìˆ˜ ì—†ëŠ” í´ë˜ìŠ¤ì´ë”ë¼ë„ ë³€ê²½í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„ì€ ìµœëŒ€í•œ ì¤„ì´ì.
 * ë‹¤ë¥¸ í•©ë‹¹í•œ ì´ìœ ê°€ ì—†ë‹¤ë©´ ëª¨ë“  í•„ë“œëŠ” private final ì´ì—¬ì•¼í•œë‹¤.
* ìƒì„±ìëŠ” ë¶ˆë³€ì‹ ì„¤ì •ì´ ëª¨ë‘ ì™„ë£Œëœ, ê°ì²´ë¥¼ ìƒì„±í•´ì•¼í•œë‹¤.
 * í™•ì‹¤í•œ ì´ìœ ê°€ ì—†ë‹¤ë©´ ìƒì„±ìì™€ ì •ì  íŒ©í„°ë¦¬ ì´ì™¸ì—ëŠ” ê·¸ ì–´ë–¤ ì´ˆê¸°í™” ë©”ì„œë“œë„ publicìœ¼ë¡œ ì œê³µí•˜ë©´ ì•ˆëœë‹¤.
