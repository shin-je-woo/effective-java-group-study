# π’΅ μ •μν•λ ¤λ” κ²ƒμ΄ νƒ€μ…μ΄λΌλ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ

## β”λ§μ»¤ μΈν„°νμ΄μ¤(Mark Interface)λ€?
μΈν„°νμ΄μ¤ λ‚΄λ¶€μ— μƒμλ„ λ©”μ„λ“λ„ μ—†λ” μΈν„°νμ΄μ¤λ¥Ό λ§ν•λ‹¤.   
μ•„λ¬΄ λ‚΄μ©μ΄ μ—†μ–΄μ„ μ“Έλ¨κ°€ μ—†μ–΄ λ³΄μ΄μ§€λ§ λ§μ»¤ μΈν„°νμ΄μ¤λ” κ°μ²΄μ νƒ€μ…κ³Ό κ΄€λ ¨λ μ •λ³΄λ¥Ό μ κ³µν•¨μΌλ΅μ¨   
μ»΄νμΌλ¬μ™€ JVMμ΄ κ°μ²΄μ— λ€ν• μ¶”κ°€μ μΈ μ •λ³΄λ¥Ό μ–»μ„ μ μλ‹¤.   
λ§μ»¤ μΈν„°νμ΄μ¤μ λ€ν‘μ μΈ μλ΅ Cloneable, Serializable μΈν„°νμ΄μ¤κ°€ μλ‹¤.
```java
public interface Serializable {
}
```
> Serializable μΈν„°νμ΄μ¤λ” μμ‹ μ„ κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ” `ObjectOutputStreamμ„ ν†µν•΄ μ“Έ(wirte)` μ μλ‹¤κ³ , 
> μ¦‰ μ§λ ¬ν™”ν•  μ μλ‹¤κ³  μ•λ ¤μ¤€λ‹¤.

###  λ§μ»¤ μΈν„°νμ΄μ¤ ν™μ© μμ‹
```java
public class MakerInterfaceTest {
    public static void main(String[] args) {
        File f = new File("test.txt");
        try{
            ObjectOutputStream objOutputStream = new ObjectOutputStream(new FileOutputStream(f));

            // κ°μ²΄ μ§λ ¬ν™” λ° μ¶λ ¥
            objOutputStream.writeObject(new SomeObject("yoon", "yoon@naver.com"));

            objOutputStream.close();

            System.out.println("κ°μ²΄κ°€ μ„±κ³µμ μΌλ΅ μ§λ ¬ν™”λμ—μµλ‹λ‹¤.");
        } catch (Exception e){
            e.printStackTrace();
        }
    }
}

public class SomeObject {
    private String name;
    private String email;
    // μƒλµ

    /*
    java.io.NotSerializableException: chapter6.item41.MakerInterfaceTest$SomeObject
    at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1175)
     */
```
> μ½”λ“ μ‹¤ν–‰ μ‹, NotSerializableExceptionμ΄ λ°μƒν•λ©° μ§λ ¬ν™”κ°€ λ¶κ°€λ¥ν•λ‹¤.   
> κ·Έ μ΄μ λ” writeObject0 μ—μ„ objκ°€ Serializableμ μΈμ¤ν„΄μ¤μΈμ§€λ¥Ό μ²΄ν¬ν•κ³  μ½”λ“λ¥Ό μ§„ν–‰μ‹ν‚¤κ³  μλ‹¤.   
> μ΄λ¬ν• λ°©μ‹μ„ ν†µν•΄ μ•„λ¬΄ λ‚΄μ©μ΄ μ—†λ” λ§μ»¤ μΈν„°νμ΄μ¤κ°€ κ°μ²΄μ— μ¶”κ°€μ μΈ μ •λ³΄λ¥Ό μ£Όμ…μ‹ν‚¬ μ μλ‹¤.   
> 
> ![img.png](img.png)

## β” λ§μ»¤ μΈν„°νμ΄μ¤μ™€ λ§μ»¤ μ• λ„ν…μ΄μ… λΉ„κµ
### λ§μ»¤ μΈν„°νμ΄μ¤μ μ¥μ 
1) λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ“¤μ„ κµ¬λ¶„ν•λ” νƒ€μ…μΌλ΅ μ“Έ μ μμ§€λ§ λ§μ»¤ μ• λ„ν…μ΄μ…μ€ κ·Έλ ‡μ§€ μ•λ‹¤.
- νƒ€μ…μ΄κΈ° λ•λ¬Έμ— μ»΄νμΌ νƒ€μ„μ— μ¤λ¥λ¥Ό μ• μ μμ§€λ§ λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν–λ‹¤λ©΄ λ°νƒ€μ„μ— λ°κ²¬ν•  κ²ƒμ΄λ‹¤.
- μλ°”μ μ§λ ¬ν™”λ” `Serializable`μ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό λ³΄κ³  κ·Έ λ€μƒμ΄ μ§λ ¬ν™”ν•  μ μλ” νƒ€μ…μΈμ§€ ν™•μΈν•λ‹¤.
- λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λ” μ£Όμ” μ΄μ λ” μ»΄νμΌ νƒ€μ„ μ¤λ¥ κ²€μ¶μ΄λ‹¤.
2) λ§μ»¤ μΈν„°νμ΄μ¤λ” μ μ© λ€μƒμ„ λ” μ •λ°€ν•κ² μ§€μ •ν•  μ μλ‹¤.
- `μ μ© λ€μƒ(@Target)μ„ ElementType.TYPE`μΌλ΅ μ„ μ–Έν• μ• λ„ν…μ΄μ…μ€ λ¨λ“  νƒ€μ…(ν΄λμ¤, μΈν„°νμ΄μ¤, μ—΄κ±° νƒ€μ…, μ• λ„ν…μ΄μ…)μ— λ‹¬ μ μμ–΄μ„ νƒ€μ…μ„ λ” μ„Έλ°€ν•κ² μ ν•ν•μ§€ λ»ν•λ‹¤.
- λ§μ»¤ μΈν„°νμ΄μ¤λ” λ§ν‚Ήν•λ” ν΄λμ¤μ—λ§ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄ λλ‹¤. κ·Έλ¬λ©΄ μλ™μΌλ΅ ν•μ„ νƒ€μ…μ„μ„ λ³΄μ¥ν•λ” κ²ƒμ΄λ‹¤.

### λ§μ»¤ μ• λ„ν…μ΄μ…μ μ¥μ 
1) κ±°λ€ν• μ• λ„ν…μ΄μ… μ‹μ¤ν…μ μ§€μ›μ„ λ°›λ”λ‹¤.
- μ• λ„ν…μ΄μ… μ²λ¦¬κΈ°(μ»΄νμΌ νƒ€μ„μ— μ• λ„ν…μ΄μ… λ¶„μ„ λ° μ²λ¦¬), λ¦¬ν”λ ‰μ…(μ‹¤ν–‰ μ‹μ μ— ν΄λμ¤μ μ •λ³΄λ¥Ό κ²€μ‚¬ λ° μ΅°μ‘), μ• λ„ν…μ΄μ… λ©”νƒ€λ°μ΄ν„° μ €μ¥ λ° κ²€μƒ‰ κΈ°λ¥ λ“±μ΄ μλ‹¤.
- μ• λ„ν…μ΄μ…μ„ μ κ·Ή ν™μ©ν•λ” ν”„λ μ„μ›ν¬μ—μ„λ” λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ“°λ” μ½μ΄ μΌκ΄€μ„±μ„ μ§€ν‚¤λ” λ° μ λ¦¬ν•λ‹¤.

|       |λ§μ»¤ μΈν„°νμ΄μ¤|λ§μ»¤ μ• λ„ν…μ΄μ…|
|:-----:|:-----------:|:-----------:|
|μ‚¬μ© λ°©λ²•|μΈν„°νμ΄μ¤λ΅ μ •μν•κ³  ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ¥Ό λ§ν‚Ή|μ• λ„ν…μ΄μ…μΌλ΅ μ •μν•κ³  μ• λ„ν…μ΄μ…μ„ ν΄λμ¤λ‚ ν•„λ“μ— μ μ©|
|ν™•μ¥μ„±|μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ―€λ΅ λ‹¤μ¤‘ μƒμ† λ¶κ°€λ¥|μ—¬λ¬ κ°μ μ• λ„ν…μ΄μ…μ„ μ΅°ν•©ν•μ—¬ μ‚¬μ© κ°€λ¥|
|μ½”λ“ κ°€λ…μ„±|μΈν„°νμ΄μ¤μ μ΄λ¦„μ΄ μλ„λ¥Ό λ…ν™•ν λ“λ¬λƒ„|μ• λ„ν…μ΄μ…μ μ΄λ¦„κ³Ό μ„¤μ • κ°’μ— μμ΅΄|
|μ‹¤ν–‰ μ‹μ |μ»΄νμΌ νƒ€μ„μ— κ²€μ‚¬ κ°€λ¥|λ°νƒ€μ„μ— κ²€μ‚¬ κ°€λ¥|

## β” λ§μ»¤ μΈν„°νμ΄μ¤ vs λ§μ»¤ μ• λ„ν…μ΄μ…, μ–Έμ  μ‚¬μ©ν•΄μ•Ό ν• κΉ?
- ν΄λμ¤μ™€ μΈν„°νμ΄μ¤ μ™Έμ ν”„λ΅κ·Έλ¨ μ”μ†(λ¨λ“, ν¨ν‚¤μ§€, ν•„λ“, μ§€μ—­λ³€μ λ“±)μ— λ§ν‚Ήν•΄μ•Ό ν•  λ• μ• λ„ν…μ΄μ…μ„ μ“Έ μ λ°–μ— μ—†λ‹¤.
- ν΄λμ¤λ‚ μΈν„°νμ΄μ¤μ— μ μ©ν•λ‹¤λ©΄ `λ§ν‚Ήλ κ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ λ°›λ” λ©”μ„λ“`λ¥Ό μ‘μ„±ν•  κ²½μ°κ°€ μλ‹¤λ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ“°μ.   
κ·Έλ¬λ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό λ©”μ„λ“μ λ§¤κ°λ³€μ νƒ€μ…μΌλ΅ μ‚¬μ©ν•μ—¬ μ»΄νμΌ νƒ€μ„μ— μ¤λ¥λ¥Ό μ΅μ•„λ‚Ό μ μλ‹¤.

### π’΅λ§λ¬΄λ¦¬
> λ§μ»¤ μΈν„°νμ΄μ¤μ™€ λ§μ»¤ μ• λ„ν…μ΄μ…μ€ κ°μμ μ“°μ„μ΄ μλ‹¤.   
> μ μ© λ€μƒμ΄ ElementType.TYPEμΈ λ§μ»¤ μ• λ„ν…μ΄μ…λ§ μ‘μ„±ν•κ³  μλ‹¤λ©΄, λ§μ»¤ μΈν„°νμ΄μ¤κ°€ λ‚«μ§€λ” μ•μ„μ§€ μƒκ°ν•΄λ³΄μ.