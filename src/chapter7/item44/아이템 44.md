# π’΅ ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ


## 1. ν•¨μ κ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ μ‚¬μ©ν•λ” μμ‹
* LinkedHashMapμ protected λ©”μ„λ“μΈ removeEldestEntryλ¥Ό μ¬μ •μν•λ©΄ μΊμ‹λ΅ μ‚¬μ©ν•  μ μλ‹¤.
  * λ§µμ— μƒλ΅μ΄ ν‚¤λ¥Ό μ¶”κ°€ν•λ” put λ©”μ„λ“λ” μ΄ λ©”μ„λ“λ¥Ό νΈμ¶ν•μ—¬ trueκ°€ λ°ν™λλ©΄ λ§µμ—μ„ κ°€μ¥ μ¤λλ μ›μ†λ¥Ό μ κ±°ν•λ‹¤.
```java
//λ§µμ— κ°€μ¥ μµκ·Ό μ›μ† 100κ°λ¥Ό μ μ§€ν•λ‹¤.
protected boolean removeEldestEntry(Map.Entry<K,V> eldest) {
        return size() > 100;
        }
```
* LinkedHashMapμ„ μ¤λλ‚  λ‹¤μ‹ κµ¬ν„ν•λ‹¤λ©΄, ν•¨μ κ°μ²΄λ¥Ό λ°›λ” μ •μ  ν©ν„°λ¦¬λ‚ μƒμ„±μλ¥Ό μ κ³µν–μ„ κ²ƒμ΄λ‹¤.
* μ΄ μΈν„°νμ΄μ¤λ” μλ°” ν‘μ¤€ λΌμ΄λΈλ¬λ¦¬μ— μ΄λ―Έ κ°™μ€ λ¨μ–‘μ μΈν„°νμ΄μ¤κ°€ μκΈ°μ— κµ³μ΄ μ‚¬μ©ν•  μ΄μ κ°€ μ—†λ‹¤.
```java
// λ¶ν•„μ”ν• ν•¨μν• μΈν„°νμ΄μ¤ - λ€μ‹  ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ.  
FunctionalInterface interface EldestEntryRemovalFunction<K,V> { 
    boolean remove( Map<K,V> map, Map.Entry<K,V> eldest ); 
}
```
- LinkedHashMap μμ—μ„λ” μ§μ ‘ λ§λ“  EledestEntryRemoveFuntion λ€μ‹  ν‘μ¤€ μΈν„°νμ΄μ¤μΈ BiPredicate<Map<K, V>>, Map.Entry<K, V>λ¥Ό μ‚¬μ©ν•  μ μλ‹¤.


## 2. ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤
- java.util.function ν¨ν‚¤μ§€λ¥Ό λ³΄λ©΄ λ‹¤μ–‘ν• μ©λ„μ ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤κ°€ λ‹΄κ²¨ μλ‹¤.
- ν•„μ”ν• μ©λ„μ— λ§λ” κ² μλ‹¤λ©΄, μ§μ ‘ κµ¬ν„ν•μ§€ λ§κ³  ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•μ.
- μ¥μ 
  - μ μ©ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό λ§μ΄ μ κ³µν•μ—¬ λ‹¤λ¥Έ μ½”λ“μ™€μ μƒνΈμ΄μ©μ„±λ„ ν¬κ² μΆ‹μ•„μ§„λ‹¤.
  - ex) Predicate μΈν„°νμ΄μ¤λ” ν”„λ λ””μΌ€μ΄νΈ(predicate)λ“¤μ„ μ΅°ν•©ν•λ” λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.
```java
@FunctionalInterface
public interface Predicate<T> {

  default Predicate<T> and(Predicate<? super T> other) {
    Objects.requireNonNull(other);
    return (t) -> test(t) && other.test(t);
  }

  default Predicate<T> negate() {
    return (t) -> !test(t);
  }

  default Predicate<T> or(Predicate<? super T> other) {
    Objects.requireNonNull(other);
    return (t) -> test(t) || other.test(t);
  }

  static <T> Predicate<T> isEqual(Object targetRef) {
    return (null == targetRef)
            ? Objects::isNull
            : object -> targetRef.equals(object);
  }
}
```
  
### (1) κΈ°λ³Έ μΈν„°νμ΄μ¤
boolean test(T t);
- java.util.function ν¨ν‚¤μ§€μ—λ” μ΄ 43κ°μ μΈν„°νμ΄μ¤κ°€ λ‹΄κ²¨ μκ³  κΈ°λ³Έ 6κ°λ§ κΈ°μ–µν•λ©΄ λ‚λ¨Έμ§€λ¥Ό μ μ¶”ν•  μ μλ‹¤.
- ![img.png](img.png)

- Operator : μΈμκ°€ 1κ°μΈ UnaryOperatorμ™€ 2κ°μΈ BinaryOperatorλ΅ λ‚λ‰λ©°, λ°ν™κ°’κ³Ό μΈμμ νƒ€μ…μ΄ κ°™μ€ ν•¨μλ¥Ό λ»ν•λ‹¤.
- Predicate : μΈμ ν•λ‚λ¥Ό λ°›μ•„ booleanμ„ λ°ν™ν•λ” ν•¨μλ¥Ό λ»ν•λ‹¤.
- Function : μΈμμ™€ λ°ν™ νƒ€μ…μ΄ λ‹¤λ¥Έ ν•¨μλ¥Ό λ»ν•λ‹¤.
- Supplier : μΈμλ¥Ό λ°›μ§€ μ•κ³  κ°’μ„ λ°ν™(νΉμ€ μ κ³µ)ν•λ” ν•¨μλ¥Ό λ»ν•λ‹¤.
- Consumer : μΈμλ¥Ό ν•λ‚ λ°›κ³  λ°ν™κ°’μ€ μ—†λ”(νΉν μΈμλ¥Ό μ†λΉ„ν•λ”) ν•¨μλ¥Ό λ»ν•λ‹¤.

### (2) κΈ°λ³Έ μΈν„°νμ΄μ¤μ λ³€ν•
- κΈ°λ³Έ μΈν„°νμ΄μ¤λ” κΈ°λ³Έ νƒ€μ…μΈ int, long, doubleμ©μΌλ΅ κ° 3κ°μ”© λ³€ν•μ΄ μƒκΈ΄λ‹¤.
  - μ΄λ¦„μ€ κΈ°λ³Έ μΈν„°νμ΄μ¤μ μ΄λ¦„ μ•μ— ν•΄λ‹Ή κΈ°λ³Έ νƒ€μ… μ΄λ¦„μ„ λ¶™μ—¬ μ§€μ—λ‹¤.
  - ex) intλ¥Ό λ°›λ” Predicateλ” IntPredicate, longμ„ λ°›μ•„ longμ„ λ°ν™ν•λ” BinaryOperatorλ” LongBinaryOperatorκ°€ λλ” μ‹μ΄λ‹¤.

- Functionμ λ³€ν•μ€ μ μΌν•κ² λ°ν™ νƒ€μ…μ΄ λ§¤κ°λ³€μν™”λλ‹¤.
  - ex) LongFunction<int[]>μ€ long μΈμλ¥Ό λ°›μ•„ int[]λ¥Ό λ°ν™ν•λ‹¤.
- Function μΈν„°νμ΄μ¤μ—λ” κΈ°λ³Έ νƒ€μ…μ„ λ°ν™ν•λ” λ³€ν•μ΄ μ΄ 9κ° λ” μλ‹¤.
  - μ…λ ¥κ³Ό κ²°κ³Ό νƒ€μ…μ΄ λ¨λ‘ κΈ°λ³Έ νƒ€μ…μ΄λ©΄ μ ‘λ‘μ–΄λ΅ SrcToResultλ¥Ό μ‚¬μ©ν•λ‹¤(μ΄ 6κ°)
  - LongToIntFunctionμ΄ λλ” μ‹μ΄λ‹¤.

- κΈ°λ³Έ ν•¨μν• μΈν„°νμ΄μ¤ μ¤‘ 3κ°μ—λ” μΈμλ¥Ό 2κ°μ”© λ°›λ” λ³€ν•μ΄ μλ‹¤(μ΄ 6κ°).
  - BiPredicate<T, U>, BiFunction<T,U,R>, BiConsumer<T,U>
  - BiFunctionμ€ κΈ°λ³Έ νƒ€μ…μ„ λ°ν™ν•λ” μ„Έ λ³€ν• ToIntBiFunction<T,U>, ToLongBiFunction<T,U>, ToDoubleBiFunction<T,U>κ°€ μ΅΄μ¬ν•λ‹¤.

- Consumerμ—λ” κ°μ²΄ μ°Έμ΅°μ™€ κΈ°λ³Έ νƒ€μ… ν•λ‚, μ¦‰ μΈμλ¥Ό 2κ° λ°›λ” λ³€ν•μ΄ μ΅΄μ¬ν•λ‹¤.
  - ObjDoubleConsumer<T>, ObjIntConsumer<T>, ObjLongConsumer<T>.

- BooleanSupplier μΈν„°νμ΄μ¤λ” booleanμ„ λ°ν™ν•λ„λ΅ ν• Supplierμ λ³€ν•μ΄λ‹¤.
  - μ΄κ²ƒμ€ ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤ μ¤‘ booleanμ„ μ΄λ¦„μ— λ…μ‹ν• μ μΌν• μΈν„°νμ΄μ¤λ‹¤.
  - ν•μ§€λ§ Predicateμ™€ κ·Έ λ³€ν• 4κ°λ„ boolean κ°’μ„ λ°ν™ν•  μ μλ‹¤.
  
### (3) μ£Όμμ 
- ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤ λ€λ¶€λ¶„μ€ κΈ°λ³Έ νƒ€μ…λ§ μ§€μ›ν•λ‹¤. ν•μ§€λ§ μ—¬κΈ°μ— λ°•μ‹±λ κΈ°λ³Έ νƒ€μ…μ„ λ„£μ–΄ μ‚¬μ©ν•μ§€λ” λ§μ.
  - κ³„μ‚°λ‰μ΄ λ§μ„ λ–„ μ„±λ¥μ΄ μ²μ°Έν λλ ¤μ§ μ μλ‹¤.
 ```java
import java.util.Arrays;
import java.util.List;
import java.util.function.Consumer;

public class FunctionalInterfaceExample {
    public static void main(String[] args) {
        List<Integer> numbers = Arrays.asList(1, 2, 3, 4, 5);
        
        // Consumer μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ μ •μλ¥Ό μ¶λ ¥ν•λ” λ©”μ„λ“λ¥Ό κµ¬ν„
        IntConsumer printNumber = (int number) -> System.out.println(number);
        // μ—¬κΈ°μ— λ°•μ‹±λ κΈ°λ³Έ νƒ€μ…μ„ λ„£μ–΄ μ‚¬μ©ν•μ§€λ” λ§μ
        Consumer<Integer> printNumber = (Integer number) -> System.out.println(number);
    
    }
}
```
## 3. μ „μ© ν•¨μν• μΈν„°νμ΄μ¤ μ§μ ‘ μ‘μ„±ν•΄μ•Ό ν•  λ•

### (1) ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ λ§λ“¤μ–΄μ•Ό ν•  κ²½μ°
- ν‘μ¤€ μΈν„°νμ΄μ¤ μ¤‘ ν•„μ”ν• μ©λ„μ— λ§λ” κ² μ—†λ‹¤λ©΄ μ§μ ‘ μ‘μ„±ν•΄μ•Ό ν•λ‹¤.
  - ex) λ§¤κ°λ³€μ 3κ°λ¥Ό λ°›λ” Predicateκ°€ ν•„μ”ν•λ‹¤.
### (2) μ§μ ‘ λ§λ“  ν•¨μν• μΈν„°νμ΄μ¤μ—λ” ν•­μƒ @FunctionalInterface μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν•μ
- ν•΄λ‹Ή μΈν„°νμ΄μ¤κ°€ ν•¨μν• μΈν„°νμ΄μ¤λΌλ”κ²ƒμ„ λ…μ‹
- μ¶”μƒ λ©”μ„λ“λ¥Ό 2κ° μ΄μƒ μ‘μ„±ν•λ©΄ μ»΄νμΌ μ¤λ¥
```java
@FunctionalInterface
public interface TestInterface {

  void test();
  void test2(); //μ»΄νμΌ μ¤λ¥
}

```

## 4. μ„λ΅ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κ°™μ€ μ„μΉμ μΈμλ΅ λ°›λ” λ©”μ„λ“λ“¤μ„ λ‹¤μ¤‘ μ •μν•΄μ„λ” μ•λλ‹¤.
- ν΄λΌμ΄μ–ΈνΈμ—κ² λ¶ν•„μ”ν• λ¨νΈν•¨λ§ μ•κ²¨μ¤€λ‹¤.
- κ·Έλμ„ μ¬λ°”λ¥Έ λ©”μ„λ“λ¥Ό μ•λ ¤μ£ΌκΈ° μ„ν•΄ ν•λ³€ν™ν•΄μ•Ό ν•  λ•κ°€ μμ£Ό μƒκΈ΄λ‹¤(μ•„μ΄ν… 52).
```java
//  <T> Future<T> submit(Callable<T> task);
//  Future<?> submit(Runnable task);


// ExecutorServiceμ submit λ©”μ„λ“λ” Callable<T>λ¥Ό λ°›λ” κ²ƒκ³Ό Runnableμ„ λ°›λ” κ²ƒμ„ λ‹¤μ¤‘μ •μν–λ‹¤.
public class ExecutorServiceExample {
  public static void main(String[] args) {
    ExecutorService executorService = Executors.newSingleThreadExecutor();

    // Callableμ„ μ‚¬μ©ν• submit
    executorService.submit((Callable<String>) () -> {
      return null;
    });

    // Runnableμ„ μ‚¬μ©ν• submit
    executorService.submit((Runnable)() -> {
    });

  }
}
```