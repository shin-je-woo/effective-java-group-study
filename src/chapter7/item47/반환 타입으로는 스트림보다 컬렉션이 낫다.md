# Previous
* μΌλ ¨μ μ›μ†λ¥Ό λ°ν™ν•λ” λ©”μ„λ“λ” μμ—†μ΄ λ§λ‹¤.
* μλ°” 7κΉμ§€λ” Collection, Set, List κ°™μ€ μ»¬λ ‰μ… μΈν„°νμ΄μ¤μ™€ Iterableμ΄λ‚ λ°°μ—΄λ΅ λ°ν™ν–λ‹¤.
* μλ°” 8μ μ¤νΈλ¦Όμ΄ λ“±μ¥ν•λ©΄μ„ λ°ν™νƒ€μ…μΌλ΅ λ¬΄μ—‡μ„ μ„ νƒν•΄μ•Ό ν• μ§€ κ³ λ―Όμ΄ λ§μ•„μ΅λ‹¤.

# π’΅ Streamμ€ λ°λ³µμ„ μ§€μ›ν•μ§€ μ•λ”λ‹¤.
* μ•„μ΄ν… 45μ—μ„λ„ μ–ΈκΈ‰λμ§€λ§, Streamμ€ λ°λ³µμ„ μ§€μ›ν•μ§€ μ•λ”λ‹¤.

![image](https://github.com/shin-je-woo/effective-java-group-study/assets/39439576/cd9e6a40-a7fa-468b-85c3-d3435c2e4364)
* μ¤νΈλ¦Όμ„ λ°ν™ν•λ” APIμ ν΄λΌμ΄μ–ΈνΈλ” λ°ν™λ μ¤νΈλ¦Όμ„ for-eachλ΅ λ°λ³µν•κΈ° μ„ν•΄ λ¶νΈν• ν•λ³€ν™μ„ κ°μν•΄μ•Ό ν•λ‹¤.

![image](https://github.com/shin-je-woo/effective-java-group-study/assets/39439576/0bc714c9-fb9b-42ad-bce4-124abc6ca688)
* ν΄λΌμ΄μ–ΈνΈλ” μ„ μ½”λ“μ²λΌ iterator λ©”μ„λ“ μ°Έμ΅°λ¥Ό κ±΄λ„¤κ³ , Iterableλ΅ ν•λ³€ν™μ„ ν•΄μ¤μ•Ό ν•λ‹¤.
* μ‚¬μ‹¤ Stream μΈν„°νμ΄μ¤λ” Iterable μΈν„°νμ΄μ¤κ°€ μ •μν• μ¶”μƒ λ©”μ„λ“λ¥Ό μ „λ¶€ ν¬ν•¨ν•κ³ , Iterable μΈν„°νμ΄μ¤κ°€ μ •μν• λ°©μ‹λ€λ΅ λ™μ‘ν•λ‹¤.
* But, Streamμ΄ Iterableμ„ ν™•μ¥(extend)ν•μ§€ μ•μ•κΈ° λ•λ¬Έμ— for-eachλ΅ μ¤νΈλ¦Όμ„ λ°λ³µν•  μ μ—†λ‹¤.

# π’΅ Streamμ„ Iterableλ΅ λ³€ν™ν•κΈ°
* μ„ μμ‹μ iterator λ©”μ„λ“ μ°Έμ΅°, λ…μ‹μ  ν•λ³€ν™μ€ ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό λ‚μ΅ν•κ² λ§λ“ λ‹¤.
* λ‹¤ν–‰ν μ΄λ¥Ό ν•΄κ²°ν•  λ°©λ²•μ΄ μ΅΄μ¬ν•κΈ΄ ν•λ‹¤.
* λ°”λ΅ μ–΄λ‘ν„°λ¥Ό μ΄μ©ν•΄ μ¤‘κ°„μ—μ„ ν•λ³€ν™μ„ λ€μ‹  μν–‰ν•΄ μ£Όλ” λ§¤κ°μ²΄λ¥Ό μ΄μ©ν•λ” κ²ƒμ΄λ‹¤.
* μ•„μ‰½κ²λ„ μ–΄λ‘ν„°λ” Streamμ—μ„ μ κ³µν•μ§€ μ•κ³  ν΄λΌμ΄μ–ΈνΈκ°€ μ§μ ‘ μ‘μ„±ν•΄μ•Ό ν•λ‹¤.

```java
public static <T> Iterable<T> iterableOf(Stream<T> stream) {
    return stream::iterator;
}
```
```java
// μ–΄λ‘ν„° μ μ©
Stream<String> locationStream = Stream.of("μ„μΈ", "λ¶€μ‚°", "λ€κµ¬");
for (String location : iterableOf(locationStream)) {
    System.out.println(location);
}
```

# π’΅ Iterableμ„ StreamμΌλ΅ λ³€ν™ν•κΈ°
* λ°λ€λ΅ Iterableμ„ λ°ν™ν•λ” APIμ ν΄λΌμ΄μ–ΈνΈλ” `Stream`μ„ μ„ν• μ–΄λ‘ν„°λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤.

```java
public static <T> Stream<T> streamOf(Iterable<T> iterable) {
    return StreamSupport.stream(iterable.spliterator(), false);
}
```
```java
List<String> locationList = Arrays.asList("μ„μΈ", "λ¶€μ‚°", "λ€κµ¬");
Stream<String> locationStream = streamOf(locationList);
locationStream.forEach(System.out::println);
```

# π’΅ Iterableκ³Ό Stream μ¤‘ μ–΄λ–¤κ±Έ  λ°ν™ν• κΉ?
* μ–΄λ‘ν„° λ©”μ„λ“λ” ν΄λΌμ΄μ–ΈνΈ μ½”λ“λ¥Ό μ–΄μμ„ ν•κ² λ§λ“¤κ³  2, 3λ°° κ°€λ‰ μ„±λ¥μ΄ μΆ‹μ§€ λ»ν•λ‹¤.
* λ§μ•½ κ°μ²΄ μ‹ν€€μ¤λ¥Ό λ°ν™ν•λ” λ©”μ„λ“λ¥Ό μ‘μ„±ν•λ”λ°, μ΄ λ©”μ„λ“κ°€ μ¤μ§ μ¤νΈλ¦Ό νμ΄ν”„λΌμΈμ—μ„λ§ μ“°μΌ κ±Έ μ•λ‹¤λ©΄ μ¤νΈλ¦Όμ„ λ°ν™ν•μ.
* λ°λ€λ΅ λ°ν™λ κ°μ²΄λ“¤μ΄ λ°λ³µλ¬Έμ—μ„λ§ μ“°μΌ κ±Έ μ•λ‹¤λ©΄ Iterableμ„ λ°ν™ν•μ.
* ν•μ§€λ§ κ³µκ° APIλ¥Ό μ‘μ„±ν•  λ•λ” `Stream`μ„ μ›ν•λ” μ‚¬μ©μμ™€ `Iterable`μ„ μ›ν•λ” μ‚¬μ©μ λ¨λ‘λ¥Ό λ°°λ ¤ν•΄μ•Όν•λ‹¤.
* β— `List`, `Set` λ“±μ μƒμ„ νƒ€μ…μΈ `Collection`μ€ `Iterable`μ ν•μ„ νƒ€μ…μ΄λ©΄μ„ `Stream`μ„ λ°ν™ν•λ” `stream` λ©”μ„λ“λ„ μ κ³µν•κΈ° λ•λ¬Έμ— λ°λ³µκ³Ό μ¤νΈλ¦Όμ„ λ™μ‹μ— μ§€μ›ν•λ‹¤.
* λ”°λΌμ„ μ›μ† μ‹ν€€μ¤λ¥Ό λ°ν™ν•λ” κ³µκ°APIμ λ°ν™νƒ€μ…μ—λ” `Collection` μ΄λ‚ κ·Έ ν•μ„ νƒ€μ…μ„ μ‚¬μ©ν•λ”κ² μΌλ°μ μΌλ΅ μµμ„ μ΄λ‹¤!
```java
public interface Collection<E> extends Iterable<E> {
    // ...

    default Stream<E> stream() {
        return StreamSupport.stream(spliterator(), false);
    }

    // ...
}
```

# π’΅ λ°ν™ν•λ” μ»¬λ ‰μ…μ΄ λ„λ¬΄ ν¬λ‹¤λ©΄ μ „μ© μ»¬λ ‰μ…λ„ κ³ λ ¤ν•λΌ
* λ‹¨μ§€ μ»¬λ ‰μ…μ„ λ°ν™ν•λ‹¤λ” μ΄μ λ΅ ν¬κΈ°κ°€ ν° μ»¬λ ‰μ…μ„ λ©”λ¨λ¦¬μ— μ¬λ ¤μ„λ” μ•λλ‹¤.
* μ΄ κ²½μ°μ—λ” λ°ν™νƒ€μ…μ— μ „μ© μ»¬λ ‰μ…μ„ κµ¬ν„ν•λ” λ°©λ²•λ„ μλ‹¤.

```java
import java.util.*;

public class PowerSet {
    public static final <E> Collection<Set<E>> of(Set<E> s) {
        List<E> src = new ArrayList<>(s);
        if (src.size() > 30)
            throw new IllegalArgumentException(
                "μ§‘ν•©μ— μ›μ†κ°€ λ„λ¬΄ λ§μµλ‹λ‹¤(μµλ€ 30κ°).: " + s);
        return new AbstractList<Set<E>>() {
            @Override public int size() {
                // λ©±μ§‘ν•©μ ν¬κΈ°λ” 2λ¥Ό μ›λ μ§‘ν•©μ μ›μ† μλ§νΌ κ±°λ“­μ κ³± κ²ƒκ³Ό κ°™λ‹¤.
                return 1 << src.size();
            }

            @Override public boolean contains(Object o) {
                return o instanceof Set && src.containsAll((Set)o);
            }

            @Override public Set<E> get(int index) {
                Set<E> result = new HashSet<>();
                for (int i = 0; index != 0; i++, index >>= 1)
                    if ((index & 1) == 1)
                        result.add(src.get(i));
                return result;
            }
        };
    }
}
```
* μ„ μμ‹λ” λ©±μ§‘ν•©μ„ μ „μ© μ»¬λ ‰μ…μΌλ΅ μ§μ ‘ κµ¬ν„ν• μ½”λ“μ΄λ‹¤. λ©±μ§‘ν•©μ΄λ€ ν• μ§‘ν•©μ λ¨λ“  λ¶€λ¶„μ§‘ν•©μ„ μλ―Έν•λ‹¤. 
* μ¦‰, μ›μ† κ°―μκ°€ `n`μ΄λΌλ©΄ $2^n$μ΄ λ©±μ§‘ν•©μ μ›μ† κ°―μμ΄λ‹¤.
* λ©±μ§‘ν•©μ„ ν‘μ¤€ μ»¬λ ‰μ… κµ¬ν„μ²΄μ— μ €μ¥ν•λ ¤λ” μƒκ°μ€ μ„ν—ν•λ‹¤.(λ©”λ¨λ¦¬ μ„ν—)
* μ„ μμ‹μ PowerSetμ€ κ° μ›μ†μ μΈλ±μ¤λ¥Ό λΉ„νΈ λ°±ν„°λ΅ μ‚¬μ©ν•λ―€λ΅ λ©”λ¨λ¦¬ κ³µκ°„μ„ ν¨μ¨μ μΌλ΅ μ‚¬μ©ν•  μ μλ‹¤.

### μ •λ¦¬
1. `Iterable`κ³Ό `Stream`μ€ μ–΄λ‘ν„°λ¥Ό ν†µν•΄μ„ μ„λ΅ λ³€ν™μ΄ κ°€λ¥ν•λ‹¤.
2. λ‹¨, μ–΄λ‘ν„°λ” ν΄λΌμ΄μ–ΈνΈλ¥Ό μ–΄μμ„ ν•κ² λ§λ“¤λ©° μ„±λ¥ λν• μΆ‹μ§€ λ»ν•λ‹¤.
3. λ§μ•½ λ°ν™κ°’μ΄ `Stream`λ§ μ“΄λ‹¤κ³  λ³΄μ¥λλ‹¤λ©΄ `Stream`μ„ λ°ν™ν•΄λ„ λ¬΄λ°©ν•λ‹¤. λ°λ€λ΅ `Iterable`μ κ²½μ°λ„ λ§μ°¬κ°€μ§€μ΄λ‹¤.
4. λ°ν™κ°’μ€ κ°€λ¥ν•λ©΄ `Iterable` κ³Ό `Stream` λ‘ λ‹¤ μ§€μ›ν•λ” `Collection` μ„ λ°ν™ν•μ.(ν•μ„νƒ€μ… ν¬ν•¨)
5. λ°ν™ν•λ” μ›μ† μ‹ν€€μ¤κ°€ ν¬λ‹¤λ©΄ μ „μ© μ»¬λ ‰μ…μ„ κ³ λ ¤ν•μ.
